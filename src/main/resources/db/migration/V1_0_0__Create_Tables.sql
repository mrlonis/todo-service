CREATE TABLE todo_items
(
    id                      BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title                   VARCHAR(1000) NOT NULL,
    jira_url                VARCHAR(1000),
    pr_urls                 VARCHAR(10000),
    cloud_forge_console_url VARCHAR(1000),
    release_request_url     VARCHAR(1000),
    testing_urls            VARCHAR(100000),
    completed               BOOL                        DEFAULT FALSE,
    onenote_url             VARCHAR(10000),
    created_on              TIMESTAMP(9) WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    pi                      VARCHAR(50)   NOT NULL,
    sprint                  int           NOT NULL,
    type                    TINYINT       NOT NULL
);

CREATE TABLE pr_url
(
    id           BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    todo_item_id BIGINT        NOT NULL,
    url          VARCHAR(1000) NOT NULL
);

ALTER TABLE pr_url
    ADD CONSTRAINT fk_todo_items_on_pr_url FOREIGN KEY (todo_item_id) REFERENCES todo_items (id);

CREATE TABLE testing_url
(
    id           BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    todo_item_id BIGINT         NOT NULL,
    url          VARCHAR(10000) NOT NULL
);

ALTER TABLE testing_url
    ADD CONSTRAINT fk_todo_items_on_testing_url FOREIGN KEY (todo_item_id) REFERENCES todo_items (id);